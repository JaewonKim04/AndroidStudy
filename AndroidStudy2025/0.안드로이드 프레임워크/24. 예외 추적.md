# 예외 추적
- 앱에서 발생하는 문제 진단, 해결에 중요
## Logcat 사용
- 예외가 발생하면 시스템은 스택 트레이스를 Logcat에 기록
   - 예외 유형, 메시지
   - 예외가 발생한 코드 줄

## try-catch 이용
- 예외 처리방식을 제어할 수 있음
```kotlin
try {
    // action
} catch(e: Exception) {
    Log.e("Error", "exception: $e") // 스택 트레이스 로깅
}
```

## 전역 예외 핸들러 사용
- `Thread.setDefaultUncaughtExceptionHandler` 를 사용하여 전역의 처리되지 않은 예외 처리 가능
```kotlin
class MyApplication : Application() {

    override fun onCreate() {
        super.onCreate()
        val defaultHandler = Thread.getDefaultUncaughtExceptionHandler()
        Thread.setDefaultUncaughtExceptionHandler { thread, throwable ->
            // 예외 처리 로직 작성
            // 예: 로그 파일에 기록, 사용자에게 알림 등
            // 필요에 따라 기본 핸들러 호출
            defaultHandler?.uncaughtException(thread, throwable)
        }
    }
}
```

## Firebase Crashlytics 사용
- 프로덕션 환경에서 예외를 추적하는 도구
- 처리되지 않은 예외 자동 기록
   - 스택 트레이스, 기기 상태 및 사용자 정보 제공
```kotlin
try {
    val data = fetchData()
} catch (e: IOException) {
    FirebaseCrashlytics.getInstance().recordException(e)
}
```
## 브레이크포인트를 이용한 디버깅
- 개발 중에 예외의 원인을 식별하는 데 유용
- 코드 실행을 일시 중지하고 앱 상태를 검사 가능
- 디버그 모드를 활성화하고 브레이크 포인트에 도달했을 때
   - 변수, 메서드 호출 및 예외 스택트레이스를 탐색 가능
## 버그 리포트 캡처
- 기기 로그, 스택 트레이스 및 시스템 정보 수집 가능
- 3가지 방법 존재
   - 기기의 개발자 모드 : 버그 신고
      - 개발자 옵션에서 '버그 신고'로 보고서 생성 가능
   - 에뮬레이터 버그 신고
      - 확장 컨트롤에서 버그 신고 선택 가능
   - ADB 사용
      - 터미널에서 `adb bugreport /path/to/save/bugreport` 실행
- 생성된 ZIP 파일에는 디버깅에 필수적인 로그들이 포함
   - 성능 및 크래시 진단을 위해 분석에 사용할 수 있음